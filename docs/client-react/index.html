
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using with React.js Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="provider.html" />
    
    
    <link rel="prev" href="../advanced/kernels.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    README
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../intro/">
            
                <a href="../intro/">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../intro/as-events.html">
            
                <a href="../intro/as-events.html">
            
                    
                    Client Side, Event-driven development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../intro/as-api.html">
            
                <a href="../intro/as-api.html">
            
                    
                    Back end API development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../intro/as-messaging.html">
            
                <a href="../intro/as-messaging.html">
            
                    
                    Back end Messaging development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../intro/entropy.html">
            
                <a href="../intro/entropy.html">
            
                    
                    Entropy in Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../intro/motivations.html">
            
                <a href="../intro/motivations.html">
            
                    
                    Motivations & Goals of tao.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../intro/basic-terms.html">
            
                <a href="../intro/basic-terms.html">
            
                    
                    Basic Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../intro/roadmap.html">
            
                <a href="../intro/roadmap.html">
            
                    
                    Development Roadmap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../basics/defining-app-cons.html">
            
                <a href="../basics/defining-app-cons.html">
            
                    
                    Defining AppCons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../basics/setting-app-cons.html">
            
                <a href="../basics/setting-app-cons.html">
            
                    
                    Setting AppCons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../basics/define-handlers.html">
            
                <a href="../basics/define-handlers.html">
            
                    
                    Defining Handlers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../basics/handlers.html">
            
                <a href="../basics/handlers.html">
            
                    
                    Add Handlers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../basics/chaining.html">
            
                <a href="../basics/chaining.html">
            
                    
                    Chaining AppCons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../basics/wildcards.html">
            
                <a href="../basics/wildcards.html">
            
                    
                    Wildcard Handlers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    Advanced
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/inline-handlers.html">
            
                <a href="../advanced/inline-handlers.html">
            
                    
                    Inline Handlers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced/async-handlers.html">
            
                <a href="../advanced/async-handlers.html">
            
                    
                    Async Handlers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced/intercept-handlers.html">
            
                <a href="../advanced/intercept-handlers.html">
            
                    
                    Intercept Handlers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced/order-of-handlers.html">
            
                <a href="../advanced/order-of-handlers.html">
            
                    
                    Order of Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced/promise-hook.html">
            
                <a href="../advanced/promise-hook.html">
            
                    
                    Promise Hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../advanced/kernels.html">
            
                <a href="../advanced/kernels.html">
            
                    
                    Instantiating Kernels
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Using with React.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="provider.html">
            
                <a href="provider.html">
            
                    
                    Provider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="render-handler.html">
            
                <a href="render-handler.html">
            
                    
                    RenderHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="switch-handler.html">
            
                <a href="switch-handler.html">
            
                    
                    SwitchHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="with-context.html">
            
                <a href="with-context.html">
            
                    
                    withContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="data-handler.html">
            
                <a href="data-handler.html">
            
                    
                    DataHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="orig-api/">
            
                <a href="orig-api/">
            
                    
                    Original API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="orig-api/adapter.html">
            
                <a href="orig-api/adapter.html">
            
                    
                    Adapter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="orig-api/reactor.html">
            
                <a href="orig-api/reactor.html">
            
                    
                    Reactor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../server-side/">
            
                <a href="../server-side/">
            
                    
                    Using Server-side
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../server-side/socket-io.html">
            
                <a href="../server-side/socket-io.html">
            
                    
                    Socket.io
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../server-side/koa.html">
            
                <a href="../server-side/koa.html">
            
                    
                    Koa Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../server-side/connect.html">
            
                <a href="../server-side/connect.html">
            
                    
                    Connect/Express Middlware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../router/">
            
                <a href="../router/">
            
                    
                    URL Handling wtih @tao.js/router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../api/">
            
                <a href="../api/">
            
                    
                    API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../api/core/">
            
                <a href="../api/core/">
            
                    
                    @tao.js/core
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="../api/core/tao.html">
            
                <a href="../api/core/tao.html">
            
                    
                    TAO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="../api/core/kernel.html">
            
                <a href="../api/core/kernel.html">
            
                    
                    Kernel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.3" data-path="../api/core/appcon.html">
            
                <a href="../api/core/appcon.html">
            
                    
                    AppCon
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../api/react/">
            
                <a href="../api/react/">
            
                    
                    @tao.js/react
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../api/react/provider.html">
            
                <a href="../api/react/provider.html">
            
                    
                    Provider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="../api/react/render-handler.html">
            
                <a href="../api/react/render-handler.html">
            
                    
                    RenderHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="../api/react/switch-handler.html">
            
                <a href="../api/react/switch-handler.html">
            
                    
                    SwitchHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.4" data-path="../api/react/with-context.html">
            
                <a href="../api/react/with-context.html">
            
                    
                    withContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.5" data-path="../api/react/data-handler.html">
            
                <a href="../api/react/data-handler.html">
            
                    
                    DataHandler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.6" data-path="../api/react/adapter.html">
            
                <a href="../api/react/adapter.html">
            
                    
                    Adapter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.7" data-path="../api/react/reactor.html">
            
                <a href="../api/react/reactor.html">
            
                    
                    Reactor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../api/socket-io/">
            
                <a href="../api/socket-io/">
            
                    
                    @tao.js/socket.io
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="../api/socket-io/wire-socket-io.html">
            
                <a href="../api/socket-io/wire-socket-io.html">
            
                    
                    wireTaoJsToSocketIO
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../GLOSSARY.html">
            
                <a href="../GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://tao.js.org/coverage/index.html">
            
                    
                    Coverage
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Using with React.js</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="using-with-reactjs">Using with <a href="https://reactjs.org" target="_blank">React.js</a></h1>
<p>It&apos;s assumed you have read and are familiar with the <a href="../basics/">Basics</a> guide.
If not, then please go back and read through that before trying to learn how to use <a href="../GLOSSARY.html#taojs" class="glossary-term" title="implementation of the TAO in JavaScript, including the core library as well as additional
packages to ease implementation of onboarding with other frameworks">tao.js</a>
with React.</p>
<p>While <code>tao.js</code> itself is client-agnostic, we provide packages to make it
seemlessly work with client UI libraries and frameworks.</p>
<p>To start we only have an implementation for <a href="https://reactjs.org" target="_blank">React.js</a>.
Upcoming and asking for volunteers to help with packages to integrate:</p>
<ul>
<li><a href="https://vuejs.org" target="_blank">Vue.js</a></li>
<li><a href="https://angularjs.org" target="_blank">Angular.js</a></li>
<li><a href="https://emberjs.com/" target="_blank">Ember.js</a></li>
<li>Other UI frameworks (please help)</li>
</ul>
<p><code>tao.js</code> works seamlessly well with React given the philosophy of building
reactive applications at the heart of building applications with <code>tao.js</code>.</p>
<p>To work with React, we make sure to install the <code>@tao.js/react</code> package:</p>
<pre class="language-"><code class="lang-sh"><span class="token function">npm</span> <span class="token function">install</span> --save @tao.js/core @tao.js/react
</code></pre>
<p><em><code>@tao.js/core</code> is listed as a <code>peerDependency</code> for the react package so you
must install that as well or the package won&apos;t work.</em></p>
<p>This is the second stab at a set of components to work with React.  The <a href="orig-api">original version</a>
was a very simple way to get a working version of a React-based library out the door.  However,
that version was much more <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a>-centric than it was React-centric.  You&apos;re more than welcome
to use the original version if you like it better (it is simpler).</p>
<p>The new version provides a <strong>declarative API</strong> that is more React-like that developers have
come to expect when building applications using React, leveraging the
<a href="https://reactjs.org/docs/context.html" target="_blank">React Context API</a> underneath so you must be
using at least version 16 of React.</p>
<p>The package provides 4 <code>Component</code>s and 1 Higher-Order Component (HOC) we can mix and match to
integrate <code>tao.js</code> within our React UI:</p>
<ul>
<li><a href="provider.html">Provider</a> - <code>Component</code> that provides context to the other components in the
package so that they can interact with the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> (or individual <a href="../advanced/kernels.html"><code>Kernel</code></a>)
and shared root data store</li>
<li><a href="render-handler.html">RenderHandler</a> - a <code>Component</code> that <em>is also</em> a <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> that responds
to <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> by rendering its <a href="https://reactjs.org/docs/render-props.html#using-props-other-than-render" target="_blank">function as a child</a>
using the same signature as a regular <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a></li>
<li><a href="switch-handler.html">SwitchHandler</a> - a <code>Component</code> that <em>is also</em> a <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> used to wrap
a set of <code>RenderHandler</code>s to decide which <code>RenderHandler</code>s to include in the view.</li>
<li><a href="with-context.html">withContext</a> - a Higher-Order Component (HOC) that turns the <code>Component</code> it is
wrapping <em>into a</em> <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> that will receive <code>data</code> from <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a></li>
<li><a href="data-handler.html">DataHandler</a> - a <code>Component</code> that <em>is also</em> a <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> used to capture
<code>data</code> from <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> in response to configured <a href="../GLOSSARY.html#trigram" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigram</a>(s) and make the data available to all child
&amp; descendant components for consumption</li>
</ul>
<h2 id="example-usage">Example Usage</h2>
<p>Here&apos;s an example we&apos;ll progress through using the various <code>Component</code> exports from the
<code>@tao.js/react</code> package to control display of <code>Component</code>s and provide them with data based
on the <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> generated during the lifecycle of the application.  We&apos;ll use the same
<a href="../basics/defining-app-cons.html#example-application">Example Application</a> to illustrate integrating
React here.</p>
<h3 id="example-directory-structure">Example Directory Structure</h3>
<p>Part of the Application deals with <code>Space</code>s so it has the following directory:</p>
<pre class="language-"><code>src/
+- components/
   +- Space/
      - index.js
      - Form.js
      - List.js
      - View.js
   +- shared/
      - Welcome.js
- App.css
- App.js
</code></pre><h2 id="defining-some-react-components-to-use-in-our-examples">Defining some React <code>Component</code>s to use in our examples</h2>
<p>The <code>Component</code> definitions for <code>Welcome</code>, <code>Form</code>, <code>List</code> and <code>View</code> define basic
React <code>Component</code>s (both functional and class) and are <em><strong>not aware</strong></em> of <em><strong>nor dependent upon</strong></em>
the <code>@tao.js/react</code> package.</p>
<p>They are making use of the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> export from <code>@tao.js/core</code> in
order to set the <a href="../GLOSSARY.html#application-context" class="glossary-term" title="Representation of a State the System is transitioning to at a given point in time
described by a taople with attached associated data.">Application Context</a>.</p>
<h3 id="srccomponentsspaceviewjs"><code>src/components/space/View.js</code></h3>
<p>Here is an example of a functional <code>Component</code>:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SpaceView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Space <span class="token operator">-</span> <span class="token punctuation">{</span>Space<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button
      onClick<span class="token operator">=</span><span class="token punctuation">{</span>e <span class="token operator">=&gt;</span>
        <span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">setCtx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      Edit
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>e <span class="token operator">=&gt;</span> <span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">setCtx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Find&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      Back to List
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>Space<span class="token punctuation">.</span>description<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SpaceView<span class="token punctuation">;</span>
</code></pre>
<p>Our <code>SpaceView</code> component expects to receive a <code>Space</code> prop which is the <code>Space</code> object it
is to display.</p>
<p>The <code>SpaceView</code> has 2 buttons used to change the user&apos;s context of the application by
<a href="../basics/setting-app-cons.html">setting an AppCon on the TAO</a> to either edit the current
<code>Space</code> or find all of the <code>Space</code>s again and list them.</p>
<h3 id="srccomponentsspaceformjs"><code>src/components/space/Form.js</code></h3>
<p>Here is an example full class <code>Component</code> for a simple form used to Edit a Space or Create
a new Space.</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SpaceForm</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
        description<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      props<span class="token punctuation">.</span>Space
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">const</span> val <span class="token operator">=</span> target<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&apos;checkbox&apos;</span> <span class="token operator">?</span> target<span class="token punctuation">.</span>checked <span class="token punctuation">:</span> target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> target<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">:</span> val
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> editing <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">const</span> Space <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">const</span> saveAction <span class="token operator">=</span> editing <span class="token operator">?</span> <span class="token string">&apos;Update&apos;</span> <span class="token punctuation">:</span> <span class="token string">&apos;Add&apos;</span><span class="token punctuation">;</span>
    <span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">setCtx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> saveAction<span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function-variable function">handleCancel</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> Space<span class="token punctuation">:</span> <span class="token punctuation">{</span> _id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">setCtx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Find&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Find<span class="token punctuation">:</span> <span class="token punctuation">{</span> _id <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> editing <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">const</span> Space <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>a<span class="token punctuation">}</span> Space <span class="token punctuation">{</span>Space<span class="token punctuation">.</span>name <span class="token operator">?</span> <span class="token template-string"><span class="token string">`- </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Space<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form name<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">Space`</span></span><span class="token punctuation">}</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>editing <span class="token operator">?</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;_id&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span>Space<span class="token punctuation">.</span>_id<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>Name<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input
            type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
            name<span class="token operator">=</span><span class="token string">&quot;name&quot;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>Space<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;description&quot;</span><span class="token operator">&gt;</span>Description<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>textarea
            name<span class="token operator">=</span><span class="token string">&quot;description&quot;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>Space<span class="token punctuation">.</span>description<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;Save&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleCancel<span class="token punctuation">}</span><span class="token operator">&gt;</span>Cancel<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SpaceForm<span class="token punctuation">;</span>
</code></pre>
<p>Our <code>SpaceForm</code> component expects to receive 2 props:</p>
<ul>
<li><code>editing</code> telling it whether the form is editing an existing <code>Space</code> or creating a new one</li>
<li><code>Space</code> (optional) the space object being edited</li>
</ul>
<p>The <code>SpaceForm</code> defines a <code>form</code> that will manage input changes using local state, and then
persist those changes by <a href="../basics/setting-app-cons.html">setting an AppCon on the TAO</a> in its
<code>handleSubmit</code> method.</p>
<h2 id="including-space-components-in-the-app">Including Space Components in the App</h2>
<p>Before we start to wire up our Space <code>Component</code>s to be controlled through the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a>, we&apos;ll
assume a default export from the <code>components/space</code> directory and include it in our App
so users can view and interact with <code>Space</code>s in the app.</p>
<p>We will surround our app with a <code>Provider</code> from the <code>@tao.js/react</code> package
that will be used to define which <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> Kernel (in this case the default <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> export) that
the <code>Component</code> handlers we define further down in the component tree will be attached to
and set up a shared data context available to those handlers.</p>
<h3 id="srcappjs"><code>src/App.js</code></h3>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">&apos;./logo.svg&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&apos;./App.css&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SpaceContainer <span class="token keyword">from</span> <span class="token string">&apos;./components/space&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Provider <span class="token constant">TAO</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token constant">TAO</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>header className<span class="token operator">=</span><span class="token string">&quot;App-header&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;App-logo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;logo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token string">&quot;App-title&quot;</span><span class="token operator">&gt;</span>Welcome to Mypos<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>SpaceContainer <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre>
<h2 id="wiring-up-component-handlers-for-display-rendering">Wiring up <code>Component</code> Handlers for Display Rendering</h2>
<h3 id="basic-rendering-with-renderhandler">Basic Rendering with <code>RenderHandler</code></h3>
<p>First we will use the <code>RenderHandler</code> to add our <code>Space</code> components to the render tree when our
application encounters specific <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a>.</p>
<h4 id="srccomponentsspaceindexjs"><code>src/components/space/index.js</code></h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> AppCtx <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  RenderHandler<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">&apos;./List&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> View <span class="token keyword">from</span> <span class="token string">&apos;./View&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">&apos;./Form&apos;</span><span class="token punctuation">;</span>

<span class="token comment">// chain entering a Space with showing the View</span>
<span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">addInlineHandler</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Enter&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>tao<span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AppCtx</span><span class="token punctuation">(</span><span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;View&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Portal&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SpaceContainer</span> <span class="token operator">=</span> props <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Fragment<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>Spaces<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;List&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>List data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>You must save <span class="token keyword">for</span> changes to take effect<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> action<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&apos;New&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">]</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Form Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> editing<span class="token operator">=</span><span class="token punctuation">{</span>tao<span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SpaceContainer<span class="token punctuation">;</span>
</code></pre>
<p>The <code>SpaceContainer</code> uses a <code>RenderHandler</code> to wrap each of our different space <code>Component</code>s
to be rendered based on when specific <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> are encountered.  The <a href="../GLOSSARY.html#trigram" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigram</a> for each <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a>
is defined using the <code>term</code>, <code>action</code> and <code>orient</code> props passed to the <code>RenderHandler</code>, and
the <code>RenderHandler</code> has a <a href="https://reactjs.org/docs/render-props.html#using-props-other-than-render" target="_blank">function as a child</a>
with the exact same signature as any other <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> allowing us to return what we want
rendered in the DOM tree when the corresponding <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> has been encountered.</p>
<p>All <code>Component</code> handlers from the <code>@tao.js/react</code> package are added to the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> as Inline Handlers.
Any ommitted <a href="../GLOSSARY.html#trigram-props" class="glossary-term" title="in the @tao.js/react package, the set of 3 props used to represent a TAO trigram for a context;
the props are &quot;term&quot;, &quot;action&quot; and &quot;orient&quot; which can be set on a Component from the package">Trigram props</a> (<code>term</code>, <code>action</code> or <code>orient</code>) will be treated as a wildcard
when adding the <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> to the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> just like when adding any normal <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> to the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a>.</p>
<p>Additionally, you&apos;ll notice the <code>action</code> prop used in the <code>RenderHandler</code> for the <code>Form</code>
component which provides an array of actions.  As a convenience, the <code>RenderHandler</code> (and all
other <code>Component</code> handlers from the <code>@tao.js/react</code> package) will compute a cartesian product
of all possible <a href="../GLOSSARY.html#trigrams" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigrams</a> from the <a href="../GLOSSARY.html#trigram-prop" class="glossary-term" title="in the @tao.js/react package, one of the set of 3 props used to represent a TAO trigram for a
context, either the &quot;term&quot;, &quot;action&quot; or &quot;orient&quot; prop which can be set on a Component from the
package">Trigram prop</a> values provided and add itself as a
<a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> for each of them.</p>
<h3 id="improved-control-with-switchhandler">Improved Control with <code>SwitchHandler</code></h3>
<p><code>RenderHandler</code> components behave just like a normal <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> reacting to an <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> but they
do not react to other <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> to which they are not configured to handle.  In React terms, this
translates to adding their children to the render tree once their configured <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> has been
encountered in the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a>, but not controlling removal.  This means the <code>SpaceContainer</code> we
defined above will progressively show each of our <code>Space</code> components as users interact with
the app, but none of these components will disappear.</p>
<p>To have the selective rendering behavior we need, we&apos;ll convert the <code>SpaceContainer</code> into
using a <code>SwitchHandler</code> to ensure only the desired space <code>Component</code>s we want displayed are
rendered and will be removed when the application has moved on from the configured <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a>.</p>
<h4 id="modified-srccomponentsspaceindexjs">modified <code>src/components/space/index.js</code></h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> AppCtx <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  SwitchHandler<span class="token punctuation">,</span>
  RenderHandler<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">&apos;./list&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> View <span class="token keyword">from</span> <span class="token string">&apos;./view&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">&apos;./form&apos;</span><span class="token punctuation">;</span>

<span class="token comment">// chain entering a Space with showing the View</span>
<span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">addInlineHandler</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Enter&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>tao<span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AppCtx</span><span class="token punctuation">(</span><span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;View&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Portal&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SpaceContainer</span> <span class="token operator">=</span> props <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token comment">/* surround RenderHandlers with a SwitchHandler */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span>SwitchHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>Spaces<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;List&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>List data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>You must save <span class="token keyword">for</span> changes to take effect<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&apos;New&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Form Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> editing<span class="token operator">=</span><span class="token punctuation">{</span>tao<span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>SwitchHandler<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SpaceContainer<span class="token punctuation">;</span>
</code></pre>
<p>The <code>SwitchHandler</code> is now providing control over its child <code>RenderHandler</code>s by determining
based on the <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> it sees which should be included in the render tree.</p>
<p>To reduce verbosity, the <code>SwitchHandler</code> accepts <a href="../GLOSSARY.html#trigram-props" class="glossary-term" title="in the @tao.js/react package, the set of 3 props used to represent a TAO trigram for a context;
the props are &quot;term&quot;, &quot;action&quot; and &quot;orient&quot; which can be set on a Component from the package">Trigram props</a> that act as default <a href="../GLOSSARY.html#trigram" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigram</a>
props for all child <code>RenderHandler</code>s and will be passed into the child <code>RenderHandler</code>s when
they&apos;re added to the render tree.  If a <a href="../GLOSSARY.html#trigram-prop" class="glossary-term" title="in the @tao.js/react package, one of the set of 3 props used to represent a TAO trigram for a
context, either the &quot;term&quot;, &quot;action&quot; or &quot;orient&quot; prop which can be set on a Component from the
package">Trigram prop</a> is defined by both, the <code>RenderHandler</code>&apos;s
value will override the <code>SwitchHandler</code>&apos;s value both in determining the <a href="../GLOSSARY.html#trigram" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigram</a> of the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a>
<a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> the <code>SwitchHandler</code> uses and on the <code>RenderHandler</code> component added to the render
tree.</p>
<p>The configuration of surrounding <code>RenderHandler</code>s with a <code>SwitchHandler</code> is to provide
exclusivity aka selection around which <code>RenderHandler</code>s to display.  It isn&apos;t necessary
for all <code>RenderHandler</code>s to be surrounded by a <code>SwitchHandler</code>, especially if the children
of the <code>RenderHandler</code> can control their own display (like we&apos;ll see with the <code>ErrorMessage</code>.</p>
<p>The <code>SwitchHandler</code> only manages selective rendering for <code>RenderHandler</code> <strong>direct children</strong>,
meaning any descendant <code>RenderHandler</code>s are unaffected by an ancestor <code>SwitchHandler</code>.  It
also means the <code>SwitchHandler</code> will render any other children (<code>Component</code>s or text) into the
tree (e.g. the <code>h2</code> title will always be in the render tree as long as the <code>SpaceContainer</code>
is in the render tree).</p>
<h2 id="getting-data-from-appcons-into-components">Getting data from AppCons into Components</h2>
<h3 id="using-withcontext-hoc">Using <code>withContext</code> HOC</h3>
<p>The <code>withContext</code> Higher-Order Component can be used to turn any React <code>Component</code> into a
<a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> that will receive data from an <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> when it is encountered.</p>
<p>As a very simple example, say we want to have a welcome message for users of the app.</p>
<h4 id="srccomponentssharedwelcomejs"><code>src/components/shared/Welcome.js</code></h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Welcome<span class="token punctuation">{</span>data<span class="token punctuation">.</span>user <span class="token operator">?</span> <span class="token string">&apos;, &apos;</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>user<span class="token punctuation">.</span>displayName <span class="token punctuation">:</span> <span class="token string">&apos; to Mypos&apos;</span><span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withContext</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;User&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Enter&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">:</span> data<span class="token punctuation">.</span>User <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> user<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Welcome<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The <code>withContext</code> HOC wraps our <code>Welcome</code> component to provide the <code>User</code> data when it
is encountered during a <code>{User,Enter,Portal}</code> <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a>.</p>
<p>The first arg to <code>withContext</code> defines the <a href="../GLOSSARY.html#trigram" class="glossary-term" title="literally to mean a sequence of 3, trigrams represent the 3 parts of a TAO context
consisting of the term, action and orient(ation)">Trigram</a> that our <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> will be looking for.</p>
<p>The second arg to <code>withContext</code> is the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> that will be called when the matching
<a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> is set on the <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> with a variation from a standard <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a>: you can return a
value that will be used to determine the shape of the <code>data</code> prop that <code>withContext</code>
will pass to the <code>Welcome</code> component.</p>
<p>The third optional arg to <code>withContext</code> is used to set the default value of the <code>data</code>
prop before any <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a> are encountered.</p>
<p>Now our global header or App component can import the default export from <code>src/components/shared/welcome.js</code>
and embed it in the page within a <code>Provider</code> and it&apos;ll just work like any other React <code>Component</code>.</p>
<h4 id="srcappjs-with-welcome"><code>src/App.js</code> with Welcome</h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">&apos;./logo.svg&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&apos;./App.css&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SpaceContainer <span class="token keyword">from</span> <span class="token string">&apos;./components/space&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Welcome <span class="token keyword">from</span> <span class="token string">&apos;./components/shared/welcome&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Provider <span class="token constant">TAO</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token constant">TAO</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>header className<span class="token operator">=</span><span class="token string">&quot;App-header&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;App-logo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;logo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>SpaceContainer <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre>
<p>The <code>withContext</code> HOC has much more flexibility that you can find in the <a href="with-context.html">doc page</a>.</p>
<h3 id="using-datahandlers-for-shared-state">Using <code>DataHandler</code>s for shared state</h3>
<p><code>DataHandler</code>s provide a way to wire up <a href="../GLOSSARY.html#tao" class="glossary-term" title="the core framework of defining a System using Application Contexts as a 3-Dimensional
representation of State and implementing the System using handlers that react to them.">TAO</a> handlers into your React <code>Component</code> tree that capture
data and make it available to child and decendant components down the hierarchy.</p>
<p>The <code>Provider</code> sets up the initial data context as a map, and <code>DataHandler</code>s will modify that map
when they react to their configured <a href="../GLOSSARY.html#appcons" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCons</a>.</p>
<p>Let&apos;s say we want to classify <code>Space</code>s using a <code>type</code> field so we need a list of <code>type</code>s as a
lookup.  We&apos;ll modify our <code>SpaceContainer</code> to capture this list and make it available to it&apos;s
children.</p>
<h4 id="srccomponentsspaceindexjs-with-types"><code>src/components/space/index.js</code> with types</h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token constant">TAO</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> AppCtx <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/core&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  SwitchHandler<span class="token punctuation">,</span>
  RenderHandler<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;@tao.js/react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">&apos;./List&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> View <span class="token keyword">from</span> <span class="token string">&apos;./View&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">&apos;./Form&apos;</span><span class="token punctuation">;</span>

<span class="token comment">// chain entering a Space with showing the View</span>
<span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">addInlineHandler</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Enter&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>tao<span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AppCtx</span><span class="token punctuation">(</span><span class="token string">&apos;Space&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;View&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Portal&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Space <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// fetch the SpaceTypes when we enter the App</span>
<span class="token constant">TAO</span><span class="token punctuation">.</span><span class="token function">addAsyncHandler</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token string">&apos;App&apos;</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token string">&apos;Enter&apos;</span><span class="token punctuation">,</span> o<span class="token punctuation">:</span> <span class="token string">&apos;Portal&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">AppCtx</span><span class="token punctuation">(</span><span class="token string">&apos;SpaceType&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Find&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Portal&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SpaceContainer</span> <span class="token operator">=</span> props <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token comment">/* Surround our tree with our DataHandler */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span>DataHandler
    name<span class="token operator">=</span><span class="token string">&quot;spaceTypes&quot;</span>
    term<span class="token operator">=</span><span class="token string">&quot;SpaceType&quot;</span>
    action<span class="token operator">=</span><span class="token string">&quot;List&quot;</span>
    orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span>
    <span class="token keyword">default</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    handler<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">.</span>SpaceTypes<span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>SwitchHandler term<span class="token operator">=</span><span class="token string">&quot;Space&quot;</span> orient<span class="token operator">=</span><span class="token string">&quot;Portal&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>Spaces<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;List&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>List data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>You must save <span class="token keyword">for</span> changes to take effect<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* Reference the DataHandler&apos;s data using the `context` prop */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&apos;New&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">]</span><span class="token punctuation">}</span> context<span class="token operator">=</span><span class="token string">&quot;spaceTypes&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* the context we referenced will augment the handler with args passing the data */</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">,</span> spaceTypes<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token punctuation">{</span><span class="token comment">/* pass the spaceTypes into the Form via the types prop */</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>Form Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> editing<span class="token operator">=</span><span class="token punctuation">{</span>tao<span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token string">&apos;Edit&apos;</span><span class="token punctuation">}</span> types<span class="token operator">=</span><span class="token punctuation">{</span>spaceTypes<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>RenderHandler action<span class="token operator">=</span><span class="token string">&quot;View&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span>tao<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>View Space<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>Space<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>RenderHandler<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>SwitchHandler<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>DataHandler<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SpaceContainer<span class="token punctuation">;</span>
</code></pre>
<p>Above we&apos;ve added a few changes to our <code>space/index.js</code> and <code>SpaceContainer</code> component without
having to create new components or new files.</p>
<p>First, we add a new <a href="../GLOSSARY.html#async-handler" class="glossary-term" title="A handler added to the TAO for the Async Phase of execution of the TAO.">Async Handler</a> to fetch the <code>SpaceType</code>s lookup data when entering the app.</p>
<p>Next we add a <code>DataHandler</code> component to react to the <code>{SpaceType,List,Portal}</code> <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> which
will be triggered when successfully fetching the <code>SpaceType</code>s from the backend.  The <code>DataHandler</code>&apos;s
<a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> is defined to return just the list of <code>SpaceType</code>s in the <a href="../GLOSSARY.html#appcon" class="glossary-term" title="An Application Context represented in code and coded to within a TAO-based System.">AppCon</a> <code>data</code>, which then sets
that value in the data context from the closet ancestor <code>Provider</code> in the component hierarchy using
the <code>name</code> prop of the <code>DataHandler</code> (in this case <code>&apos;spaceTypes&apos;</code>).</p>
<p>We get access to this data lower down in the hierarchy when we define the <code>context</code> prop on the
<code>RenderHandler</code> surrounding our space <code>Form</code> (<code>context=&quot;spaceTypes&quot;</code>).  When we add the <code>context</code>
prop to the <code>RenderHandler</code>, it finds the data in the data context under the key(s) [multiple
contexts may be provided using an <code>Array</code> of context names - see the <a href="render-handler.html">RenderHandler</a> docs]
and append that data as args to the <a href="../GLOSSARY.html#handler" class="glossary-term" title="A function added to the TAO for an Application Context that is called by the TAO
when an Application Context that matches is set on the TAO.">handler</a> used as the <a href="https://reactjs.org/docs/render-props.html#using-props-other-than-render" target="_blank">function as a child</a>
of the <code>RenderHandler</code> (if multiple <code>context</code>s are provided, then each is appended as an arg in
the order in which they&apos;re listed in the prop value).</p>
<p>Finally, in the <a href="https://reactjs.org/docs/render-props.html#using-props-other-than-render" target="_blank">function as a child</a> prop of the
<code>RenderHandler</code> we capture the <code>spaceTypes</code> arg and pass it to the <code>Form</code> component as the value of
the <code>types</code> prop.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../advanced/kernels.html" class="navigation navigation-prev " aria-label="Previous page: Instantiating Kernels">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="provider.html" class="navigation navigation-next " aria-label="Next page: Provider">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using with React.js","level":"1.5","depth":1,"next":{"title":"Provider","level":"1.5.1","depth":2,"path":"client-react/provider.md","ref":"client-react/provider.md","articles":[]},"previous":{"title":"Instantiating Kernels","level":"1.4.6","depth":2,"path":"advanced/kernels.md","ref":"advanced/kernels.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","advanced-emoji","markdown-toc"],"root":"content","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"simple-page-toc":{"maxDepth":3,"skipFirstH1":true},"embedEmojis":true,"search":{},"markdown-toc":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"client-react/README.md","mtime":"2019-04-11T02:17:37.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-05-19T06:31:04.060Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

